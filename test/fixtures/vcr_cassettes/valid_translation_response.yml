---
http_interactions:
- request:
    method: post
    uri: http://localhost:8080/cql/translator
    body:
      encoding: ASCII-8BIT
      string: "--721318\r\nContent-Disposition: form-data; name=\"file[]\"\r\n\r\nlibrary
        BCSTest version '0.0.001'\n\nusing QDM version '5.0'\n\ncodesystem \"LOINC:2.46\":
        'urn:oid:2.16.840.1.113883.6.1' version 'urn:hl7:version:2.46'\n\ncodesystem
        \"SNOMEDCT:2016-03\": 'urn:oid:2.16.840.1.113883.6.96' version 'urn:hl7:version:2016-03'\n\ncodesystem
        \"CPT:2016\": 'urn:oid:2.16.840.1.113883.6.12' version 'urn:hl7:version:2016'\n\ncodesystem
        \"AdministrativeGender:HL7V3.0_2015-07\": 'urn:oid:2.16.840.1.113883.5.1'
        version 'urn:hl7:version:HL7V3.0_2015-07'\n\ncodesystem \"SNOMEDCT:2016-09\":
        'urn:oid:2.16.840.1.113883.6.96' version 'urn:hl7:version:2016-09'\n\ncodesystem
        \"LOINC:2.56\": 'urn:oid:2.16.840.1.113883.6.1' version 'urn:hl7:version:2.56'\n\ncodesystem
        \"HCPCS:2016\": 'urn:oid:2.16.840.1.113883.6.285' version 'urn:hl7:version:2016'\n\ncodesystem
        \"CDCREC:1.0\": 'urn:oid:2.16.840.1.113883.6.238' version 'urn:hl7:version:1.0'\n\ncodesystem
        \"SOP:6.0\": 'urn:oid:2.16.840.1.113883.3.221.5' version 'urn:hl7:version:6.0'\n\nvalueset
        \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1' codesystems
        {\"AdministrativeGender:HL7V3.0_2015-07\"}\n\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'
        codesystems {\"CDCREC:1.0\"}\n\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'
        codesystems {\"CDCREC:1.0\"}\n\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591'
        codesystems {\"SOP:6.0\"}\n\nvalueset \"Mammogram\": 'urn:oid:2.16.840.1.113883.3.464.1003.108.12.1018'
        codesystems {\"LOINC:2.56\", \"HCPCS:2016\"}\n\nvalueset \"Face-to-Face Interaction\":
        'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1048' codesystems {\"SNOMEDCT:2016-09\"}\n\nvalueset
        \"Home Healthcare Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'
        codesystems {\"CPT:2016\"}\n\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'
        codesystems {\"CPT:2016\"}\n\nvalueset \"Bilateral Mastectomy\": 'urn:oid:2.16.840.1.113883.3.464.1003.198.12.1005'
        codesystems {\"SNOMEDCT:2016-09\"}\n\nvalueset \"Unilateral Mastectomy\":
        'urn:oid:2.16.840.1.113883.3.464.1003.198.12.1020' codesystems {\"SNOMEDCT:2016-09\",
        \"CPT:2016\"}\n\nvalueset \"Female\": 'urn:oid:2.16.840.1.113883.3.560.100.2'
        codesystems {\"AdministrativeGender:HL7V3.0_2015-07\"}\n\nparameter \"Measurement
        Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"SDE Ethnicity\":
        [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine \"SDE Payer\":
        [\"Patient Characteristic Payer\": \"Payer\"]\n\ndefine \"SDE Race\": [\"Patient
        Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\": [\"Patient Characteristic
        Sex\": \"ONC Administrative Sex\"]\n\ndefine \"Initial Pop\": ([\"Encounter,
        Performed\": \"Office Visit\"]\nunion [\"Encounter, Performed\": \"Face-to-Face
        Interaction\"]\nunion [\"Encounter, Performed\": \"Home Healthcare Services\"])Enc\nwhere
        Enc.relevantPeriod during \"Measurement Period\"\nand AgeInYearsAt(start of
        \"Measurement Period\")>=65\n\ndefine \"Num\": [\"Diagnostic Study, Performed\":
        \"Mammogram\"]Mam\nwhere Mam.relevantPeriod 26 months or less before end of
        \"Measurement Period\"\n\ndefine \"Double Unilateral Mastectomy\": Count([\"Procedure,
        Performed\": \"Unilateral Mastectomy\"]P\nwhere P.relevantPeriod before end
        of \"Measurement Period\")=2\n\ndefine \"Denom\": exists(\"Initial Pop\")
        and\nAgeInYearsAt(start of \"Measurement Period\")<74\nand exists([\"Patient
        Characteristic Sex\": \"Female\"])\n\ndefine \"Denom Excl\": exists([\"Procedure,
        Performed\": \"Bilateral Mastectomy\"]BIM\nwhere BIM.relevantPeriod before
        end of \"Measurement Period\") or \"Double Unilateral Mastectomy\"\n\r\n--721318--\r\n"
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Content-Length:
      - '3432'
      Content-Type:
      - multipart/form-data; boundary=721318
      User-Agent:
      - Ruby
  response:
    status:
      code: 504
      message: Gateway Timeout
    headers:
      Mime-Version:
      - '1.0'
      Date:
      - Fri, 12 Oct 2018 11:52:00 EDT
      Content-Type:
      - text/html
      Connection:
      - keep-alive
      Proxy-Connection:
      - keep-alive
      Content-Length:
      - '3676'
    body:
      encoding: UTF-8
      string: "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\r\n\"http://www.w3.org/TR/html4/loose.dtd\">\r\n<html>\r\n<head>\r\n<meta
        http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\r\n<title>Notification:
        Gateway Timeout</title>\r\n<style type=\"text/css\">\r\n<!--\r\nbody {\r\n
        \   font-family: verdana, Arial, Helvetica, sans-serif;\r\n\tmargin-top: 0%;\r\n\tmargin-left:
        0%;\r\n\tmargin-right: 0%;\r\n}\r\np {\r\n    font-size: 12px;\r\n    top:
        0px;\r\n    margin-top: 6px;\r\n    margin-bottom: 6px;\r\n}\r\ntd {\r\n    font-size:
        12px;\r\n    top: 0px;\r\n}\r\n.code {\r\n    font-family: courier;\r\n    font-size:
        12px;\r\n    top: 0px;\r\n}\r\nh1 {\r\n    font-size: 16px;\r\n    margin-top:
        24px;\r\n    margin-bottom: 8px;\r\n}\r\nhr {\r\n    margin-top: 2px;\r\n
        \   margin-bottom: 2px;\r\n}\r\n-->\r\n</style>\r\n</head>\r\n\r\n<body>\r\n\r\n<!--
        Start MII Header --> \r\n<script type=\"text/javascript\" src=\"http://info.mitre.org/webapps/mii_header/miiHeader.js\"></script>
        \r\n<!-- End MII Header -->\r\n\r\n<div style=\"padding-top: 1em; padding-left:
        2%; padding-right: 2%;\">\r\n<img style=\"padding-left: 5px; padding-top:
        5px;\" src=\"http://info.mitre.org/it_services/images/cit_logo.png\" border=\"0\">\r\n\r\n<h1>This
        Page Cannot Be Displayed</h1>\r\n<hr>\r\n\r\n<p>\r\nThe system cannot communicate
        with the external server (&nbsp;localhost&nbsp;).\r\nThe Internet server may
        be busy, may be permanently down, or may be\r\nunreachable because of network
        problems.\r\n</p>\r\n<br>\r\n\r\n<p>\r\nPlease check the spelling of the Internet
        address entered.\r\nIf it is correct, try this request later.\r\n</p>\r\n<br>\r\n\r\n<!--
        -----------------------------------------------------------------------------------
        -->\r\n<!-- ------------------Start custom EUN messages ---------------------------------------
        -->\r\n<!-- -----------------------------------------------------------------------------------
        -->\r\n<p>\r\nIf you have questions, or feel this is an error, please contact\r\nthe
        <b>MITRE Help Desk</b> at x1-7227 or x3-7227 or by email at <a href=\"mailto:helpdesk@mitre.org\">helpdesk@mitre.org</a>
        and provide the information below:\r\n</p>\r\n\r\n<ul>\r\n<li>The URL of the
        website you are trying to reach</li>\r\n<li>The notification code at the bottom
        of this page</li>\r\n<li>How you are currently connected to the internet (MITRE
        internal network, outernet, VPN, SoHo, etc.)</li>\r\n</ul>\r\n\r\n<!-- -----------------------------------------------------------------------------------
        -->\r\n<!-- ---------------------Old code commented out----------------------------------------
        -->\r\n<!-- -----------------------------------------------------------------------------------
        -->\r\n<!-- commented out line below which pulls message from GUI interface
        -->\r\n<!-- <p><br> There has been an error and the web page is unable to
        be displayed. <br>  Please contact the MITRE Help Desk (helpdesk@mitre.org)
        and provide the information below:<br> <br>  1) The URL you are trying to
        reach<br>  2) The browser you are using<br>  3) Has this URL been reachable
        in the past?<br> 3) The internet connection you are currently using<br>  4)
        The notification codes at the bottom of this page<br>  5) And any other information
        you think may be important<br>  <br>  Also refer to FJ: \"proxy\" for additional
        information.<br></p> -->\r\n<!-- <p> -->\r\n<!-- If you have questions, or
        feel this is an error, please contact -->\r\n<!-- MITRE Help Desk (&nbsp;<a
        href=\"mailto:helpdesk@mitre.org\">helpdesk@mitre.org</a>&nbsp;) -->\r\n<!--
        and provide the codes shown below. -->\r\n<!-- </p> -->\r\n\r\n<hr>\r\n<table>\r\n
        \ <tr valign=\"top\">\r\n    <td valign=\"top\" width=\"10%\">Notification&nbsp;codes:&nbsp;</td>\r\n
        \   <td valign=\"top\" class=\"code\" width=\"90%\">(1, GATEWAY_TIMEOUT, localhost)</td>\r\n
        \ </tr>\r\n</table>\r\n\r\n</div>\r\n</body>\r\n</html>\r\n"
    http_version: 
  recorded_at: Fri, 12 Oct 2018 15:52:00 GMT
recorded_with: VCR 3.0.3
